<div class="card-wrapper">
    <div class="reset-pw-card">
        <div class="card-header">
            <button (click)="navigateBack()" class="btn btn-back">
                <svg class="lucid lucid-arrow-left-icon lucid-arrow-left" fill="none" height="24" stroke="currentColor"
                     stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24"
                     xmlns="http://www.w3.org/2000/svg">
                    <path d="m12 19-7-7 7-7"/>
                    <path d="M19 12H5"/>
                </svg>
            </button>
            <h2>Reset Password</h2>
        </div>
        <form (ngSubmit)="setNewPassword()" [formGroup]="changePWForm">
            <div class="form-group">
                <div class="input-field">
                    <input formControlName="password" id="change-pw" placeholder="New password" type="password">
                    <svg class="lucid lucid-lock-icon lucid-lock" fill="none" height="24" stroke="currentColor"
                         stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24"
                         xmlns="http://www.w3.org/2000/svg">
                        <rect height="11" rx="2" ry="2" width="18" x="3" y="11"/>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                    </svg>
                </div>
                <span [class.visible]="changePWForm.get('password')?.invalid && changePWForm.get('password')?.touched"
                      class="error-message">
                    *Password must contain at least 8 characters.
                </span>
                <div class="input-field">
                    <input formControlName="passwordConfirmation" id="change-pw-confirmation"
                           placeholder="Confirm new password" type="password">
                    <svg class="lucid lucid-lock-icon lucid-lock" fill="none" height="24" stroke="currentColor"
                         stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24"
                         xmlns="http://www.w3.org/2000/svg">
                        <rect height="11" rx="2" ry="2" width="18" x="3" y="11"/>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                    </svg>
                </div>
                <span
                        [class.visible]="changePWForm.errors?.['valuesDoNotMatch'] && (changePWForm.get('passwordConfirmation')?.touched || changePWForm.get('password')?.touched)"
                        class="error-message">
                    *The provided passwords do not match.
                </span>
            </div>
            <div class="form-controls">
                <button [disabled]="!changePWForm.valid" class="btn btn-primary" type="submit">Change Password</button>
            </div>
        </form>
    </div>
</div>
<app-notifications #notification></app-notifications>
