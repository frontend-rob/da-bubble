<div class="card-wrapper">
    <div class="reset-pw-card">
        <div class="card-header">
            <button class="btn btn-back" (click)="navigateBack()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-arrow-left-icon lucide-arrow-left">
                    <path d="m12 19-7-7 7-7" />
                    <path d="M19 12H5" />
                </svg>
            </button>
            <h2>Reset Password</h2>
        </div>
        <form [formGroup]="changePWForm" (ngSubmit)="setNewPassword()">
            <div class="form-group">
                <div class="input-field">
                    <input type="password" id="change-pw" formControlName="password" placeholder="New password">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-lock-icon lucide-lock">
                        <rect width="18" height="11" x="3" y="11" rx="2" ry="2" />
                        <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                    </svg>
                </div>
                <span class="error-message"
                    [class.visible]="changePWForm.get('password')?.invalid && changePWForm.get('password')?.touched">
                    *Password must contain at least 8 characters.
                </span>
                <div class="input-field">
                    <input type="password" id="change-pw-confirmation" formControlName="passwordConfirmation" placeholder="Confirm new password">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-lock-icon lucide-lock">
                        <rect width="18" height="11" x="3" y="11" rx="2" ry="2" />
                        <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                    </svg>
                </div>
                <span class="error-message"
                    [class.visible]="changePWForm.errors?.['valuesDoNotMatch'] && (changePWForm.get('passwordConfirmation')?.touched || changePWForm.get('password')?.touched)">
                    *The provided passwords do not match.
                </span>
            </div>
            <div class="form-controls">
                <button class="btn btn-primary" type="submit" [disabled]="!changePWForm.valid">Change Password</button>
            </div>
        </form>
    </div>
</div>
<app-notifications #notification></app-notifications>